---
layout: post
title: 一次破解尝试
date: 2015-06-25 17:30
Tags: technology
---



最近都在整红外库，对于没有实体遥控的设备，一个可行的办法是用市面上现有的红外app，一个一个的转录。方法虽然可行，但是略显笨拙，如果能够直接得到app里面的红外码库，然后转化为自己的格式，不是更加高效？说干就干，目标app：几维遥控器。

### 得到目标库文件
进入app随意下载了两个库，保存好之后退出，然后在ES文件管理器里面去找，果然就找到了这个db文件，怎么整出来呢？usb线拷贝需要装一个小米的app，wifi传输没找到工具，想一想，我是有android开发环境的，刚好可以用adb pull出来。于是用adb shell进去找到这个db文件的路径，然后退出shell用adb pull拉出来即可。

### 解读db
这种app小软件一般都是用sqlite，所以直接用sqlite打开上面得到的db文件，妥妥的没问题。看了下里面数据库的设计，还算是比较简单，于是很快就定位到了remote这个table。在这个过程中借用了专门查看splite格式的软件，虽然可以快捷的查看数据结构和一些简单的数据，但是无法显示二进制的值，还是要借助ipython来获取。于是一通google后，用python得到了最终的file文件。

把文件放到xp虚拟机里，用total commander的查看模式一看，尼玛真心是混乱的数据，完全找不到规律。对比得到的2个文件，只有前8个字节是一样的，其他均不同。我猜想其应该是某种序列化的产物，其原始信息应该还是名称到键码的映射。

最后还是没有发现什么规律，暂时放弃。